<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Your Magic Gift</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/gift.css">
    <link rel="stylesheet" href="css/animation.css">
    <link rel="stylesheet" href="css/snowfall.css">
    <link rel="stylesheet" href="css/mobile.css">
</head>
<body>
    <canvas id="snow-canvas"></canvas>

    <div class="app-container">
        <main class="gift-view">
            <h1 style="font-family: var(--font-display); margin-bottom: 2rem; color: var(--color-accent);">Wrap a Memory</h1>
            
            <form id="create-gift-form" onsubmit="event.preventDefault();">
                <!-- Step 1: Who is it for? -->
                <div class="gift-input-group animate-slide-up" style="animation-delay: 0.1s;">
                    <label>To (Receiver Name)</label>
                    <input type="text" id="receiver" class="gift-input" placeholder="e.g. Sarah" required>
                </div>

                <div class="gift-input-group animate-slide-up" style="animation-delay: 0.2s;">
                    <label>From (Your Name)</label>
                    <input type="text" id="sender" class="gift-input" placeholder="e.g. Santa" required>
                </div>

                <!-- Step 2: The Message -->
                <div class="gift-input-group animate-slide-up" style="animation-delay: 0.3s;">
                    <label>Your Message</label>
                    <textarea id="message" class="gift-input" rows="4" placeholder="Write something heartwarming..."></textarea>
                </div>

                <!-- Step 3: Voice Message -->
                <div class="gift-input-group animate-slide-up" style="animation-delay: 0.4s;">
                    <label>Voice Message (Optional)</label>
                    <div style="display: flex; gap: 0.5rem;">
                        <button type="button" id="record-btn" class="btn-primary" style="background: var(--color-surface); border: 1px solid var(--color-accent);">üéôÔ∏è Record</button>
                        <button type="button" id="stop-btn" class="btn-primary" style="background: var(--color-surface); display: none;">‚èπÔ∏è Stop</button>
                        <button type="button" id="play-btn" class="btn-primary" style="background: var(--color-surface); display: none;">‚ñ∂Ô∏è Review</button>
                    </div>
                    <p id="record-status" style="font-size: 0.8rem; margin-top: 0.5rem; opacity: 0.6; min-height: 1.2em;"></p>
                </div>

                <!-- Step 4: Photos -->
                <!-- Simplified for MVP: Single Photo or simple upload -->
                <div class="gift-input-group animate-slide-up" style="animation-delay: 0.5s;">
                    <label>Add a Photo (Optional)</label>
                    <input type="file" id="photo-upload" accept="image/*" class="gift-input">
                </div>

                <!-- Submit -->
                <div style="margin-top: 2rem;" class="animate-slide-up" style="animation-delay: 0.6s;">
                    <button type="submit" id="create-btn" class="btn-primary">üéÅ Create Magic Link</button>
                </div>
            </form>

            <div id="result-area" style="display: none; margin-top: 2rem;">
                <p>Your gift is ready!</p>
                <div class="gift-input" id="share-link" style="word-break: break-all; font-size: 0.9rem; margin: 1rem 0;"></div>
                <button id="copy-btn" class="btn-primary">Copy Link</button>
                <br><br>
                <a href="#" id="preview-link" style="color: var(--color-accent);">Open Gift</a>
            </div>
        </main>
    </div>

    <!-- Logic -->
    <script type="module" src="js/snowfall.js"></script>
    <script type="module" src="js/creategift.js"></script>
</body>
</html>