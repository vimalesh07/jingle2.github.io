<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Virtual Christmas Gift</title>
    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;600&display=swap"
        rel="stylesheet">
    <!-- Styles -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/gift.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="css/snowfall.css">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body class="open-page">
    <div class="snowflakes" aria-hidden="true"></div>

    <div class="container animate-fade-in" style="padding-top: 50px;">
        <div class="gift-message">
            <h1><i class="fas fa-gift"></i> A Gift For You</h1>
            <p id="greeting" style="font-size: 1.2rem; margin-top: 10px;">Click the gift box to unwrap your surprise!
            </p>
        </div>

        <!-- 3D Gift Box Container -->
        <div class="gift-container" id="giftBoxContainer">
            <div class="gift-box" id="giftBox">
                <div class="box">
                    <div class="side front"></div>
                    <div class="side back"></div>
                    <div class="side left"></div>
                    <div class="side right"></div>
                    <div class="side top">
                        <div class="ribbon-vertical"></div>
                        <div class="ribbon-horizontal"></div>
                        <div class="bow"></div>
                    </div>
                    <div class="side bottom"></div>
                </div>
            </div>
        </div>

        <button id="openBtn" class="btn-primary animate-pulse" style="margin-top: 50px;">
            <i class="fas fa-box-open"></i> Open Gift
        </button>
    </div>

    <!-- Revealed Content Area -->
    <div class="gift-content" id="giftContent">
        <!-- 1. Photo Memory -->
        <div class="photo-memory sequence-item glass-card">
            <h2><i class="fas fa-camera"></i> A Special Memory</h2>
            <div class="photo-container"
                style="margin: 20px 0; border: 5px solid white; transform: rotate(-2deg); box-shadow: 0 5px 15px rgba(0,0,0,0.3);">
                <img id="giftPhoto" src="" alt="Special Memory" style="max-width: 100%; display: block;">
            </div>
            <p class="photo-message" id="photoMessage" style="font-style: italic;"></p>
        </div>

        <!-- 2. Animated Envelope -->
        <div class="envelope-container sequence-item" style="margin-top: 40px; perspective: 1000px;">
            <div class="envelope-wrapper" id="envelopeWrapper">
                <div class="envelope" id="envelope">
                    <div class="envelope-flap"></div>
                    <div class="letter">
                        <div class="letter-content" id="letterContent" style="text-align: left;">
                            <!-- Letter content injected via JS -->
                        </div>
                    </div>
                </div>
            </div>
            <p class="envelope-instructions" style="margin-top: 20px; font-size: 0.9rem;">Tap the envelope to read</p>
        </div>

        <!-- 3. Voice Message -->
        <div class="voice-message sequence-item glass-card" style="margin-top: 40px;">
            <h2><i class="fas fa-microphone"></i> Voice Message</h2>
            <div class="voice-icon" style="font-size: 3rem; margin: 20px 0; color: var(--primary-gold);">
                <i class="fas fa-volume-up"></i>
            </div>
            <p>Listen to a personal message:</p>
            <audio id="voiceAudio" controls style="width: 100%; margin-top: 15px;"></audio>
        </div>

        <!-- 4. Footer Actions -->
        <div class="actions sequence-item" style="margin-top: 50px;">
            <button id="replayBtn" class="btn-secondary"><i class="fas fa-redo"></i> Replay</button>
            <button id="createOwnBtn" class="btn-primary" onclick="window.location.href='index.html'"><i
                    class="fas fa-magic"></i> Create Your Own</button>
        </div>
    </div>

    <div class="open-instructions animate-slide-up delay-2"
        style="position: fixed; bottom: 20px; width: 100%; text-align: center; font-size: 0.8rem; opacity: 0.7;">
        <p><i class="fas fa-volume-up"></i> Turn on sound for the best experience</p>
    </div>

    <!-- Scripts -->
    <script src="js/database.js" type="module"></script>
    <script src="js/snowfall.js"></script>
    <script src="js/voice.js" type="module"></script>
    <script src="js/openGift.js" type="module"></script>
</body>

</html>